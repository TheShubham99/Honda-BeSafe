<html>

    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"></link>
        <link rel="stylesheet" href="./index.css"></link> 
        <script src="app.js"></script> 
    </head>

<script>
    function update_phone(ph){
        fetch(`/update?ph=`+ph.replace("+","").replaceAll(" ",""))
    }
</script>


    <center>
    <div class="bg container-fluid">
        
        <nav class="navbar">
        <img class="logo" src="Honda-Connect-Logo.png"></img>
        </nav>

          <h1>BeSafe Connect information</h1>
          
          <div class="form-row">
            <div>
                <label style="color:white; font-size: 2rem;">Name : </label>
                <input id="name" placeholder="Customer Name" type="text" disabled/>
            </div>
            <div>
                <label style="color:white; font-size: 2rem;">Id : </label>
                <input id="id" placeholder="Id" type="text" disabled/>
            </div>

            <div>
                <label style="color:white; font-size: 2rem;">Longitude : </label>
                <input id="lon" placeholder="Longitude Value" type="text" disabled/>
            </div>

            <div>
                <label style="color:white; font-size: 2rem;">Latitude : </label>
                <input id="lat" placeholder="Latitude Value" type="text" disabled/>
            </div>
            
            <div>
                <label style="color:white; font-size: 2rem;">Phone Number : </label>
                <input id="phone" style="border:3px solid red;" placeholder="+xxxxxxxxxx" type="text" />
            </div>

            <div>
                <label style="color:white; font-size: 2rem;">Car Model : </label>
                <input id="model" placeholder="Car Model" type="text" disabled/>
            </div>
            
            <button onclick="update_phone(document.getElementById('phone').value.toString())">Save</button>
        </div>          
        
      </div>
    
</center>

<script>
    fetch('/load')
    .then((res)=>{
        res.json()
        .then((data)=>{
            
            document.getElementById("name").value=data['name'];
            document.getElementById("phone").value=data['phone'];
            document.getElementById("model").value=data['car'];
            document.getElementById("lat").value=data['lat'];
            document.getElementById("lon").value=data['lon'];
            document.getElementById("id").value=data['id'];

        })
        .catch((err)=> console.log("error"))
    }).catch((e)=>console.log("error"));
</script>

</html>